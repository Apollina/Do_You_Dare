<!--
  Generated template for the Commenting page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title> {{selectedMedia.title }}</ion-title>
  </ion-navbar>
</ion-header>


<ion-content>
  <ion-list>

    <ion-item margin-left>
      <h4>{{selectedMedia.artist}}</h4>
      <p text-wrap>{{selectedMedia.description}}</p>

      <ion-row text-right>
        <span>{{selectedMedia.time}}</span>
      </ion-row>
    </ion-item>

    <ion-item *ngFor="let comment of commentList" (press)="presentConfirm($event, comment.comment_id, comment.user_id)" margin-left>
      <h4>{{comment.username}}</h4>
      <p margin-right>{{comment.comment}}</p>
      <ion-row text-right>
        <span>{{comment.time}}</span>
      </ion-row>
    </ion-item>

  </ion-list>
</ion-content>

<ion-footer>
  <ion-navbar no-padding>
    <form #commentForm="ngForm" (ngSubmit)="postComment(commentForm.value); commentForm.reset()" id="commentForm">
      <ion-item padding-left>
        <ion-textarea name="comment" placeholder="Add a comment..." ngModel required></ion-textarea>
      </ion-item>

      <ion-buttons right no-padding>
        <button icon-only ion-button no-margin type="submit" [disabled]="!commentForm.valid">
          <ion-icon name="paper-plane"></ion-icon>
        </button>
      </ion-buttons>
    </form>
  </ion-navbar>
</ion-footer>
