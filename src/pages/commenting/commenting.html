<!--
  Generated template for the Commenting page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title> {{selectedMedia.title }}</ion-title>
  </ion-navbar>
</ion-header>


<ion-content>
  <ion-list>

    <ion-item margin-left>
      <h2>{{selectedMedia.artist}}</h2>
      <h3 text-wrap>{{selectedMedia.description}}</h3>

      <ion-row text-right>
        <h5>{{selectedMedia.time}}</h5>
      </ion-row>
    </ion-item>

    <ion-item *ngFor="let comment of commentList" (press)="presentConfirm($event, comment.comment_id, comment.user_id)" margin-left>
      <h2>{{comment.username}}</h2>
      <h3 margin-right>{{comment.comment}}</h3>
      <ion-row text-right>
        <h5>{{comment.time}}</h5>
      </ion-row>
    </ion-item>

  </ion-list>
</ion-content>

<ion-footer>
  <ion-navbar no-padding>
    <form #commentForm="ngForm" (ngSubmit)="postComment(commentForm.value); commentForm.reset()" id="commentForm">
      <ion-item padding-left>
        <ion-textarea name="comment" placeholder="Add a comment..." ngModel required></ion-textarea>
      </ion-item>

      <ion-buttons right no-padding>
        <button icon-only ion-button no-margin type="submit" [disabled]="!commentForm.valid">
          <ion-icon name="paper-plane"></ion-icon>
        </button>
      </ion-buttons>
    </form>
  </ion-navbar>
</ion-footer>
